# :command.command_filter
<%- if commands.any? -%>
action=$1

case $action in
-* )
  ;;

<%- commands.each do |command| -%>
<%= command.aliases.join " | " %> )
  action="<%= command.name %>"
  shift
  <%= command.full_name.to_underscore %>_parse_args "$@"
  shift $#
  ;;    

<%- end -%>
* )
  <%= full_name.to_underscore %>_usage
  exit 1
  ;;

esac
<%- else -%>
action="<%= action_name %>"
<%- end -%>
